  .stat-label {
    font-size: 10px;
  }
  
  /* Секции */
  .quick-add-section,
  .recent-quotes-section {
    margin-bottom: var(--spacing-lg);
  }
  
  .quick-add-section h2,
  .recent-quotes-section h2 {
    font-size: var(--font-size-base);
    margin-bottom: var(--spacing-sm);
  }
  
  /* Навигация */
  .bottom-nav {
    padding: 2px var(--spacing-sm) calc(2px + env(safe-area-inset-bottom));
  }
  
  .nav-item {
    padding: 2px var(--spacing-xs);
  }
  
  .nav-icon {
    font-size: var(--font-size-sm);
  }
  
  .nav-label {
    font-size: 9px;
  }
  
  /* Модальные окна */
  .modal-content {
    max-height: 70vh;
  }
}

/* ===== ВЫСОКИЕ ЭКРАНЫ (iPhone 14 Pro Max и подобные) ===== */
@media (min-height: 850px) {
  
  .page {
    padding-top: var(--spacing-xl);
  }
  
  .page-header {
    margin-bottom: var(--spacing-2xl);
  }
  
  .quick-add-section,
  .recent-quotes-section {
    margin-bottom: var(--spacing-2xl);
  }
}

/* ===== TOUCH ОПТИМИЗАЦИЯ ===== */

/* Увеличенные области нажатия */
.nav-item,
.btn-primary,
.btn-secondary,
.quote-item {
  min-height: 44px; /* Apple HIG рекомендация */
}

/* Убираем outline для touch устройств */
@media (hover: none) and (pointer: coarse) {
  button:focus,
  input:focus,
  textarea:focus {
    outline: none;
  }
  
  /* Но оставляем визуальную обратную связь */
  button:focus,
  .nav-item:focus {
    background-color: var(--secondary-color);
  }
  
  input:focus,
  textarea:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
  }
}

/* ===== СПЕЦИФИКАЦИЯ ДЛЯ iOS ===== */

/* Убираем iOS стили по умолчанию */
input[type="text"],
input[type="email"],
textarea,
button {
  -webkit-appearance: none;
  border-radius: var(--border-radius-md);
}

/* Предотвращаем zoom при фокусе на iOS */
@media screen and (-webkit-min-device-pixel-ratio: 2) {
  input[type="text"],
  input[type="email"],
  textarea {
    font-size: 16px;
  }
}

/* Стили для iOS Safe Area */
@supports (padding-top: env(safe-area-inset-top)) {
  .app-container {
    padding-top: env(safe-area-inset-top);
  }
  
  .bottom-nav {
    padding-bottom: calc(var(--spacing-sm) + env(safe-area-inset-bottom));
  }
  
  .page {
    padding-bottom: calc(80px + var(--spacing-lg) + env(safe-area-inset-bottom));
  }
}

/* ===== ANDROID СПЕЦИФИЧНЫЕ СТИЛИ ===== */

/* Стили для Android Chrome */
@media screen and (max-width: 767px) and (-webkit-min-device-pixel-ratio: 1) {
  
  /* Оптимизация для более низкого DPI на некоторых Android устройствах */
  .stat-icon,
  .nav-icon {
    image-rendering: -webkit-optimize-contrast;
  }
  
  /* Больше padding для компенсации менее точного touch */
  .nav-item {
    padding: var(--spacing-sm);
  }
}

/* ===== ACCESSIBILITY ===== */

/* Увеличенный текст */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Высокий контраст */
@media (prefers-contrast: high) {
  :root {
    --border-color: #000000;
    --text-secondary: #000000;
    --text-muted: #333333;
  }
  
  [data-theme="dark"] {
    --border-color: #ffffff;
    --text-secondary: #ffffff;
    --text-muted: #cccccc;
  }
}

/* Увеличенный размер шрифта */
@media (prefers-reduced-data: reduce) {
  /* Минимизируем анимации для экономии трафика */
  .stat-card:hover,
  .quote-item:hover {
    transform: none;
  }
}

/* ===== ДОПОЛНИТЕЛЬНЫЕ УТИЛИТЫ ДЛЯ МОБИЛЬНЫХ ===== */

/* Скрытие элементов на мобильных */
@media (max-width: 767.98px) {
  .hidden-mobile {
    display: none !important;
  }
}

/* Показ только на мобильных */
@media (min-width: 768px) {
  .mobile-only {
    display: none !important;
  }
}

/* Полная ширина на мобильных */
@media (max-width: 767.98px) {
  .full-width-mobile {
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}

/* Компактное отображение на мобильных */
@media (max-width: 767.98px) {
  .compact-mobile {
    padding: var(--spacing-sm) !important;
    margin: var(--spacing-xs) 0 !important;
  }
}

/* ===== СПЕЦИФИЧНЫЕ СТИЛИ ДЛЯ TELEGRAM MINI APP ===== */

/* Адаптация под Telegram Web App Viewport */
@media screen and (max-height: 600px) {
  /* Для коротких экранов делаем интерфейс еще более компактным */
  .page-header {
    margin-bottom: var(--spacing-md);
  }
  
  .stats-grid {
    margin-bottom: var(--spacing-md);
  }
  
  .quick-add-section,
  .recent-quotes-section {
    margin-bottom: var(--spacing-lg);
  }
}

/* Стили для Telegram темной темы */
@media (prefers-color-scheme: dark) {
  .telegram-theme-vars {
    --tg-theme-bg-color: #1a1a1a;
    --tg-theme-secondary-bg-color: #2a2a2a;
    --tg-theme-text-color: #ffffff;
    --tg-theme-hint-color: #999999;
  }
}

/* Стили для полноэкранного режима */
@media (display-mode: standalone) {
  /* PWA установлено как приложение */
  .app-container {
    min-height: 100vh;
  }
}

/* ===== FALLBACK СТИЛИ ===== */

/* Для очень старых мобильных браузеров */
@media screen and (max-device-width: 480px) {
  .page {
    padding: 8px;
  }
  
  .stat-card,
  .quote-item,
  .quick-add-form {
    padding: 8px;
  }
  
  .btn-primary,
  .btn-secondary {
    padding: 8px 12px;
  }
}