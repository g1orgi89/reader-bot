<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìà –û—Ç—á–µ—Ç—ã - –ß–∏—Ç–∞—Ç–µ–ª—å</title>
    <link rel="stylesheet" href="css/main.css">
    <meta name="description" content="–û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ '–ß–∏—Ç–∞—Ç–µ–ª—å' - –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∏ –º–µ—Å—è—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã">
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- –¢–æ–Ω–∫–∞—è –∫–Ω–∏–∂–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è -->
    <div class="reader-bg-animation reader-bg-subtle" id="reader-matrix"></div>
    
    <div class="admin-layout">
        <!-- Header -->
        <header class="admin-header">
            <div class="logo-container">
                <div class="logo-icon">üìñ</div>
                <h1>–ß–∏—Ç–∞—Ç–µ–ª—å</h1>
                <span class="logo-subtitle">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</span>
            </div>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">üìä –î–∞—à–±–æ—Ä–¥</a></li>
                    <li><a href="users.html">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a></li>
                    <li><a href="quotes.html">üìù –¶–∏—Ç–∞—Ç—ã</a></li>
                    <li><a href="reports.html" class="active">üìà –û—Ç—á–µ—Ç—ã</a></li>
                    <li><a href="tickets.html">üé´ –û–±—Ä–∞—â–µ–Ω–∏—è</a></li>
                    <li><a href="knowledge.html">üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</a></li>
                    <li><a href="prompts.html">ü§ñ –ü—Ä–æ–º–ø—Ç—ã</a></li>
                </ul>
            </nav>
            
            <div class="user-menu">
                <span id="admin-username">–ê–Ω–Ω–∞ –ë—É—Å–µ–ª</span>
                <button id="logout-btn" class="btn btn-text">–í—ã—Ö–æ–¥</button>
            </div>
        </header>
        
        <!-- Main content -->
        <main class="admin-content">
            <div class="page-header">
                <h2>üìà –û—Ç—á–µ—Ç—ã "–ß–∏—Ç–∞—Ç–µ–ª—è"</h2>
                <p class="page-description">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∏ –º–µ—Å—è—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞ "–ß–∏—Ç–∞—Ç–µ–ª—å"</p>
            </div>
            
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ -->
            <div class="stats-cards">
                <div class="stat-card glow-card">
                    <div class="stat-header">
                        <h3>üìä –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã</h3>
                        <div class="stat-icon">üìÖ</div>
                    </div>
                    <div class="stat-value">1,247</div>
                    <div class="stat-change positive">+15% –∑–∞ –º–µ—Å—è—Ü</div>
                </div>
                
                <div class="stat-card glow-card">
                    <div class="stat-header">
                        <h3>üìà –ú–µ—Å—è—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã</h3>
                        <div class="stat-icon">üóìÔ∏è</div>
                    </div>
                    <div class="stat-value">89</div>
                    <div class="stat-change positive">+8% –∑–∞ –º–µ—Å—è—Ü</div>
                </div>
                
                <div class="stat-card glow-card">
                    <div class="stat-header">
                        <h3>üíå –û—Ç–∫—Ä—ã—Ç–∏–µ –æ—Ç—á–µ—Ç–æ–≤</h3>
                        <div class="stat-icon">üëÅÔ∏è</div>
                    </div>
                    <div class="stat-value">87%</div>
                    <div class="stat-change positive">+3% –∑–∞ –º–µ—Å—è—Ü</div>
                </div>
                
                <div class="stat-card glow-card">
                    <div class="stat-header">
                        <h3>‚≠ê –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞</h3>
                        <div class="stat-icon">üåü</div>
                    </div>
                    <div class="stat-value">4.6</div>
                    <div class="stat-change positive">+0.2 –∑–∞ –º–µ—Å—è—Ü</div>
                </div>
            </div>
            
            <!-- –§–∏–ª—å—Ç—Ä—ã -->
            <div class="filters-container glow-card">
                <h3>üîç –§–∏–ª—å—Ç—Ä—ã –æ—Ç—á–µ—Ç–æ–≤</h3>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="report-type">–¢–∏–ø –æ—Ç—á–µ—Ç–∞:</label>
                        <select id="report-type" class="form-control">
                            <option value="all">–í—Å–µ –æ—Ç—á–µ—Ç—ã</option>
                            <option value="weekly">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ</option>
                            <option value="monthly">–ú–µ—Å—è—á–Ω—ã–µ</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="date-from">–° –¥–∞—Ç—ã:</label>
                        <input type="date" id="date-from" class="form-control">
                    </div>
                    
                    <div class="filter-group">
                        <label for="date-to">–î–æ –¥–∞—Ç—ã:</label>
                        <input type="date" id="date-to" class="form-control">
                    </div>
                    
                    <div class="filter-group">
                        <label for="user-search">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</label>
                        <input type="text" id="user-search" class="form-control" placeholder="–ò–º—è –∏–ª–∏ email">
                    </div>
                    
                    <div class="filter-actions">
                        <button class="btn btn-primary" onclick="applyFilters()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        <button class="btn btn-secondary" onclick="resetFilters()">–°–±—Ä–æ—Å–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <!-- –¢–∞–±–ª–∏—Ü–∞ –æ—Ç—á–µ—Ç–æ–≤ -->
            <div class="table-section glow-card">
                <div class="section-header">
                    <h3>üìã –°–ø–∏—Å–æ–∫ –æ—Ç—á–µ—Ç–æ–≤</h3>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="generateReport()">
                            üìä –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç
                        </button>
                        <button class="btn btn-secondary" onclick="exportReports()">
                            üìÅ –≠–∫—Å–ø–æ—Ä—Ç
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="data-table" id="reports-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                <th>–¢–∏–ø</th>
                                <th>–ü–µ—Ä–∏–æ–¥</th>
                                <th>–¶–∏—Ç–∞—Ç</th>
                                <th>–û—Ü–µ–Ω–∫–∞</th>
                                <th>–°–æ–∑–¥–∞–Ω</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#R001</td>
                                <td>–ú–∞—Ä–∏—è –ö.</td>
                                <td><span class="type-badge weekly">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π</span></td>
                                <td>21-27 —è–Ω–≤ 2025</td>
                                <td>7</td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>28.01.2025</td>
                                <td><span class="status-badge status-resolved">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</span></td>
                                <td>
                                    <button class="btn btn-sm" onclick="viewReport('R001')">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                    <button class="btn btn-sm btn-secondary" onclick="resendReport('R001')">–ü–µ—Ä–µ—Å–ª–∞—Ç—å</button>
                                </td>
                            </tr>
                            <tr>
                                <td>#R002</td>
                                <td>–ï–ª–µ–Ω–∞ –ê.</td>
                                <td><span class="type-badge monthly">–ú–µ—Å—è—á–Ω—ã–π</span></td>
                                <td>–Ø–Ω–≤–∞—Ä—å 2025</td>
                                <td>23</td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>31.01.2025</td>
                                <td><span class="status-badge status-resolved">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</span></td>
                                <td>
                                    <button class="btn btn-sm" onclick="viewReport('R002')">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                    <button class="btn btn-sm btn-secondary" onclick="resendReport('R002')">–ü–µ—Ä–µ—Å–ª–∞—Ç—å</button>
                                </td>
                            </tr>
                            <tr>
                                <td>#R003</td>
                                <td>–ê–Ω–Ω–∞ –ú.</td>
                                <td><span class="type-badge weekly">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π</span></td>
                                <td>28 —è–Ω–≤ - 3 —Ñ–µ–≤ 2025</td>
                                <td>5</td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>04.02.2025</td>
                                <td><span class="status-badge status-resolved">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</span></td>
                                <td>
                                    <button class="btn btn-sm" onclick="viewReport('R003')">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                    <button class="btn btn-sm btn-secondary" onclick="resendReport('R003')">–ü–µ—Ä–µ—Å–ª–∞—Ç—å</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="admin-footer">
            <p>üìñ "–ß–∏—Ç–∞—Ç–µ–ª—å" - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ü–∏—Ç–∞—Ç –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
            <p class="copyright">¬© 2025 –ê–Ω–Ω–∞ –ë—É—Å–µ–ª. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </footer>
    </div>
    
    <!-- Notification system -->
    <div class="notification-container" id="notification-container"></div>
    
    <!-- Scripts -->
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    
    <script>
        /**
         * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç—á–µ—Ç–æ–≤
         */
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üìà –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç—á–µ—Ç–æ–≤');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
            if (typeof checkAuthStatus === 'function') {
                checkAuthStatus();
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–Ω–∏–∂–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
            if (typeof initReaderMatrix === 'function') {
                initReaderMatrix(true);
            }
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–∏—Ö –¥–∞—Ç
            setDefaultDates();
        });
        
        /**
         * –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
         */
        function setDefaultDates() {
            const today = new Date();
            const monthAgo = new Date();
            monthAgo.setMonth(monthAgo.getMonth() - 1);
            
            const dateFrom = document.getElementById('date-from');
            const dateTo = document.getElementById('date-to');
            
            if (dateFrom) dateFrom.value = monthAgo.toISOString().split('T')[0];
            if (dateTo) dateTo.value = today.toISOString().split('T')[0];
        }
        
        /**
         * –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
         */
        function applyFilters() {
            console.log('üìà –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –æ—Ç—á–µ—Ç–æ–≤');
            showNotification('info', '–§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã');
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
        }
        
        /**
         * –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤
         */
        function resetFilters() {
            console.log('üìà –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤');
            document.getElementById('report-type').value = 'all';
            document.getElementById('user-search').value = '';
            setDefaultDates();
            showNotification('info', '–§–∏–ª—å—Ç—Ä—ã —Å–±—Ä–æ—à–µ–Ω—ã');
        }
        
        /**
         * –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
         */
        function generateReport() {
            console.log('üìà –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞');
            showNotification('info', '–§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞');
        }
        
        /**
         * –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤
         */
        function exportReports() {
            console.log('üìà –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤');
            showNotification('info', '–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
        }
        
        /**
         * –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞
         */
        function viewReport(reportId) {
            console.log('üìà –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞:', reportId);
            showNotification('info', `–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞ ${reportId}`);
        }
        
        /**
         * –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–∞
         */
        function resendReport(reportId) {
            console.log('üìà –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–∞:', reportId);
            showNotification('success', `–û—Ç—á–µ—Ç ${reportId} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–≤—Ç–æ—Ä–Ω–æ`);
        }
        
        /**
         * –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
         */
        function showNotification(type, message) {
            if (typeof window.showNotification === 'function') {
                window.showNotification(type, message);
            } else {
                console.log(`Notification: ${type} - ${message}`);
            }
        }
    </script>
    
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç—á–µ—Ç–æ–≤ */
        .page-header {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .page-header h2 {
            margin: 0 0 0.5rem 0;
            color: var(--reader-gold);
            font-family: var(--font-heading);
        }
        
        .page-description {
            margin: 0;
            color: var(--text-muted);
        }
        
        .filters-container {
            margin-bottom: 2rem;
            padding: 1.5rem;
        }
        
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            align-items: end;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-white);
            font-weight: 500;
        }
        
        .filter-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .table-section {
            padding: 1.5rem;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .section-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .type-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .type-badge.weekly {
            background: var(--info-color);
            color: var(--text-white);
        }
        
        .type-badge.monthly {
            background: var(--reader-gold);
            color: var(--dark-bg);
        }
        
        @media (max-width: 768px) {
            .filters-grid {
                grid-template-columns: 1fr;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .section-actions {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</body>
</html>