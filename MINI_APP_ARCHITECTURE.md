# üöÄ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Telegram Mini App –¥–ª—è Reader Bot

## üéØ –ö–õ–Æ–ß–ï–í–û–ï –û–¢–ö–†–´–¢–ò–ï

### ‚úÖ BACKEND –ì–û–¢–û–í –ù–ê 100%
- 85% –ë–î –º–æ–¥–µ–ª–µ–π —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã
- –í—Å–µ API endpoints `/api/reader/*` –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
- Claude AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (RAG) –∞–∫—Ç–∏–≤–Ω–æ

### üîÑ –°–¢–†–ê–¢–ï–ì–ò–Ø: –ë–û–¢ ‚Üí MINI APP –ì–ò–ë–†–ò–î

**–ë–æ—Ç –æ—Å—Ç–∞–µ—Ç—Å—è:** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–∞–Ω–¥  
**Mini App –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è:** –≤–µ—Å—å –±–æ–≥–∞—Ç—ã–π UI –∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ª—É—á—à–∏–π UX + –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

---

## üì± –°–¢–†–£–ö–¢–£–†–ê TELEGRAM MINI APP

```
reader-app-v2/                           # üì± TELEGRAM MINI APP (100KB total)
‚îú‚îÄ‚îÄ index.html                          # 3 KB - –≥–ª–∞–≤–Ω—ã–π HTML —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ manifest.json                       # 1 KB - PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îú‚îÄ‚îÄ service-worker.js                   # 2 KB - –¥–ª—è offline
‚îú‚îÄ‚îÄ css/                               # CSS –°–¢–ò–õ–ò (28 KB)
‚îÇ   ‚îú‚îÄ‚îÄ variables.css                  # 2 KB - —Ü–≤–µ—Ç–∞ —Ç–µ—Ä—Ä–∞–∫–æ—Ç–æ–≤—ã–µ, —Ä–∞–∑–º–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ reset.css                      # 1 KB - —Å–±—Ä–æ—Å –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ base.css                       # 3 KB - –±–∞–∑–æ–≤–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, grid
‚îÇ   ‚îú‚îÄ‚îÄ components/                    # –°–¢–ò–õ–ò –ö–û–ú–ü–û–ù–ï–ù–¢–û–í (12 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ buttons.css               # 2 KB - –≤—Å–µ –∫–Ω–æ–ø–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cards.css                 # 2 KB - –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏/—Ü–∏—Ç–∞—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forms.css                 # 2 KB - —Ñ–æ—Ä–º—ã –∏ –∏–Ω–ø—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modals.css                # 3 KB - –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ navigation.css            # 3 KB - –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å + –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ pages/                        # –°–¢–ò–õ–ò –°–¢–†–ê–ù–ò–¶ (8 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home.css                  # 2 KB - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diary.css                 # 2 KB - –¥–Ω–µ–≤–Ω–∏–∫ —Å —Ç–∞–±–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reports.css               # 1 KB - –æ—Ç—á–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog.css               # 2 KB - –∫–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ community.css             # 1 KB - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
‚îÇ   ‚îî‚îÄ‚îÄ mobile.css                    # 2 KB - –∞–¥–∞–ø—Ç–∞—Ü–∏—è + iOS —Ñ–∏–∫—Å—ã
‚îú‚îÄ‚îÄ js/                               # JAVASCRIPT (52 KB)
‚îÇ   ‚îú‚îÄ‚îÄ core/                         # –Ø–î–†–û –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (7 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js                    # 3 KB - –≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Router.js                 # 2 KB - —Ä–æ—É—Ç–∏–Ω–≥ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ State.js                  # 2 KB - –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ services/                     # –°–ï–†–í–ò–°–´ (18 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js                    # 8 KB - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ backend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.js               # 5 KB - Telegram SDK, haptic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.js                # 2 KB - localStorage, –∫—ç—à
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ios-fix.js                # 3 KB - —Ñ–∏–∫—Å—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ iOS
‚îÇ   ‚îú‚îÄ‚îÄ components/                   # –ö–û–ú–ü–û–ù–ï–ù–¢–´ (15 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                       # UI –≠–õ–ï–ú–ï–ù–¢–´ (6 KB)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.js             # 1 KB - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.js               # 1 KB - –∫–∞—Ä—Ç–æ—á–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.js              # 2 KB - –±–∞–∑–æ–≤–∞—è –º–æ–¥–∞–ª–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Form.js               # 2 KB - —Ñ–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navigation/               # –ù–ê–í–ò–ì–ê–¶–ò–Ø (4 KB)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BottomNav.js          # 2 KB - –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å (5 —Å—Ç—Ä–∞–Ω–∏—Ü)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TopMenu.js            # 2 KB - –º–µ–Ω—é "..." + –º–æ–¥–∞–ª–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modals/                   # –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê (3 KB)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProfileModal.js       # 1 KB - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AchievementsModal.js  # 1 KB - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SettingsModal.js      # 1 KB - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ quote/                    # –¶–ò–¢–ê–¢–´ (2 KB)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ QuoteCard.js          # 1 KB - –∫–∞—Ä—Ç–æ—á–∫–∞ —Ü–∏—Ç–∞—Ç—ã
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ QuoteForm.js          # 1 KB - —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ pages/                        # –°–¢–†–ê–ù–ò–¶–´ (20 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.js               # 4 KB - –≥–ª–∞–≤–Ω–∞—è + –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DiaryPage.js              # 5 KB - –¥–Ω–µ–≤–Ω–∏–∫ —Å —Ç–∞–±–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReportsPage.js            # 4 KB - –æ—Ç—á–µ—Ç—ã + –∞–Ω–∞–ª–∏–∑
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CatalogPage.js            # 4 KB - –∫–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CommunityPage.js          # 3 KB - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ MVP
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OnboardingPage.js         # 4 KB - —Ç–µ—Å—Ç 7 –≤–æ–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ utils/                        # –£–¢–ò–õ–ò–¢–´ (6 KB)
‚îÇ       ‚îú‚îÄ‚îÄ helpers.js                # 2 KB - –æ–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ constants.js              # 1 KB - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ç–µ–∫—Å—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ validators.js             # 1 KB - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
‚îÇ       ‚îî‚îÄ‚îÄ menuHandlers.js           # 2 KB - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–µ–Ω—é
‚îú‚îÄ‚îÄ assets/                           # –†–ï–°–£–†–°–´ (10 KB)
‚îÇ   ‚îú‚îÄ‚îÄ icons/                        # SVG –ò–ö–û–ù–ö–ò (4 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home.svg                  # –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diary.svg                 # –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reports.svg               # –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog.svg               # –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ community.svg             # –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.svg               # –º–µ–Ω—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ achievements.svg          # –º–µ–Ω—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.svg              # –º–µ–Ω—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ help.svg                  # –º–µ–Ω—é
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ about.svg                 # –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ images/                       # –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø (4 KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logo-192.png              # PWA –∏–∫–æ–Ω–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logo-512.png              # PWA –∏–∫–æ–Ω–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ anna-avatar.jpg           # –∞–≤–∞—Ç–∞—Ä –ê–Ω–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ fonts/                        # –®–†–ò–§–¢–´ (2 KB)
‚îÇ       ‚îî‚îÄ‚îÄ inter-subset.woff2        # —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
‚îú‚îÄ‚îÄ config/                           # –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (2 KB)
‚îÇ   ‚îú‚îÄ‚îÄ api-endpoints.js              # 1 KB - URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ app-config.js                 # 1 KB - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ docs/                            # –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø (5 KB)
    ‚îú‚îÄ‚îÄ README.md                     # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
    ‚îú‚îÄ‚îÄ DEPLOYMENT.md                 # –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
    ‚îî‚îÄ‚îÄ API.md                        # –æ–ø–∏—Å–∞–Ω–∏–µ API
```

---

## üé® –î–ò–ó–ê–ô–ù –°–ò–°–¢–ï–ú–ê (–Ω–∞ –æ—Å–Ω–æ–≤–µ annabusel.org)

### –¶–í–ï–¢–û–í–ê–Ø –ü–ê–õ–ò–¢–†–ê –ê–ù–ù–´ –ë–£–°–ï–õ

```css
:root {
  /* –û–°–ù–û–í–ù–´–ï –¶–í–ï–¢–ê */
  --primary-color: #D2452C;           /* –¢–µ—Ä—Ä–∞–∫–æ—Ç–æ–≤—ã–π/–∫–∏—Ä–ø–∏—á–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π */
  --primary-dark: #B53A23;           /* –¢–µ–º–Ω–µ–µ –∫—Ä–∞—Å–Ω—ã–π */
  --primary-light: #E85A42;          /* –°–≤–µ—Ç–ª–µ–µ –∫—Ä–∞—Å–Ω—ã–π */
  
  /* –¢–ï–ö–°–¢ */
  --text-primary: #2D2D2D;           /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ç–µ–∫—Å—Ç */
  --text-secondary: #666666;         /* –°–µ—Ä—ã–π —Ç–µ–∫—Å—Ç */
  --text-muted: #999999;             /* –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π —Å–µ—Ä—ã–π */
  
  /* –§–û–ù–´ */
  --background: #F5F2EC;             /* –°–≤–µ—Ç–ª–æ-–±–µ–∂–µ–≤—ã–π –∫–∞–∫ –Ω–∞ —Å–∞–π—Ç–µ */
  --background-light: #FAF8F3;       
  --surface: #FFFFFF;                /* –ë–µ–ª—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
  --surface-warm: #FEFCF8;           /* –¢–µ–ø–ª—ã–π –±–µ–ª—ã–π */
  
  /* –ì–†–ê–ù–ò–¶–´ –ò –¢–ï–ù–ò */
  --border: #E6E0D6;                 /* –ë–µ–∂–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
  --shadow-color: rgba(210, 69, 44, 0.08);
  --border-radius: 12px;
}

/* –¢–ï–ú–ù–ê–Ø –¢–ï–ú–ê (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ Telegram) */
body.dark-theme {
  --primary-color: #E85A42;          /* –Ø—Ä—á–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
  --background: #1A1A1A;             
  --surface: #2A2A2A;                
  --text-primary: #F0F0F0;           
}
```

---

## üîå –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –°–£–©–ï–°–¢–í–£–Æ–©–ò–ú BACKEND

### API ENDPOINTS (—É–∂–µ –≥–æ—Ç–æ–≤—ã–µ)

```javascript
// üìä –û–°–ù–û–í–ù–´–ï –î–ê–ù–ù–´–ï
GET    /api/reader/quotes              // –°–ø–∏—Å–æ–∫ —Ü–∏—Ç–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/reader/quotes              // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ü–∏—Ç–∞—Ç—É
PUT    /api/reader/quotes/:id          // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–∏—Ç–∞—Ç—É
DELETE /api/reader/quotes/:id          // –£–¥–∞–ª–∏—Ç—å —Ü–∏—Ç–∞—Ç—É

// üìà –û–¢–ß–ï–¢–´ –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê  
GET    /api/reader/reports/weekly      // –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
GET    /api/reader/reports/monthly     // –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç
GET    /api/reader/analytics/stats     // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

// üìö –ö–ê–¢–ê–õ–û–ì –ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò
GET    /api/reader/bookCatalog         // –ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ (–∏–∑ –∞–¥–º–∏–Ω–∫–∏)
GET    /api/reader/announcements       // –ê–Ω–æ–Ω—Å—ã –∏ –ø—Ä–æ–º–æ
GET    /api/reader/promoCodes          // –ü—Ä–æ–º–æ–∫–æ–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

// ü§ñ AI –ò –ü–ï–†–°–û–ù–ê–õ–ò–ó–ê–¶–ò–Ø
POST   /api/reader/chat                // –û–±—â–µ–Ω–∏–µ —Å –ê–Ω–Ω–æ–π (Claude AI)
GET    /api/reader/annaPersona         // –ü–µ—Ä—Å–æ–Ω–∞ –ê–Ω–Ω—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
```

### –ú–û–î–ï–õ–ò –î–ê–ù–ù–´–• (JSDoc —Ç–∏–ø–∏–∑–∞—Ü–∏—è)

```javascript
/**
 * @typedef {Object} Quote
 * @property {string} _id - ID —Ü–∏—Ç–∞—Ç—ã
 * @property {string} userId - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @property {string} text - –¢–µ–∫—Å—Ç —Ü–∏—Ç–∞—Ç—ã
 * @property {string} [author] - –ê–≤—Ç–æ—Ä —Ü–∏—Ç–∞—Ç—ã
 * @property {string} [source] - –ò—Å—Ç–æ—á–Ω–∏–∫ (–∫–Ω–∏–≥–∞)
 * @property {Object} aiAnalysis - –ê–Ω–∞–ª–∏–∑ –æ—Ç AI
 * @property {string[]} categories - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏/—Ç–µ–º—ã
 * @property {Date} createdAt - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
 */

/**
 * @typedef {Object} WeeklyReport  
 * @property {string} _id - ID –æ—Ç—á–µ—Ç–∞
 * @property {string} userId - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @property {Date} weekStart - –ù–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏
 * @property {Object} statistics - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ–¥–µ–ª–∏
 * @property {Quote[]} topQuotes - –¢–æ–ø —Ü–∏—Ç–∞—Ç—ã –Ω–µ–¥–µ–ª–∏
 * @property {Object} aiAnalysis - –ê–Ω–∞–ª–∏–∑ –æ—Ç –ê–Ω–Ω—ã
 * @property {Object[]} bookRecommendations - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫–Ω–∏–≥
 * @property {string} promoCode - –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ–¥–µ–ª–∏
 */
```

---

## ü§ñ TELEGRAM INTEGRATION LAYER

### –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø –ß–ï–†–ï–ó TELEGRAM

```javascript
// js/services/auth.js
class TelegramAuth {
  constructor() {
    this.initData = window.Telegram.WebApp.initDataUnsafe;
    this.user = this.initData.user;
  }
  
  async authenticate() {
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º Telegram –¥–∞–Ω–Ω—ã–µ –Ω–∞ /api/reader/auth/telegram
    const response = await fetch('/api/reader/auth/telegram', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        telegramData: window.Telegram.WebApp.initData,
        user: this.user
      })
    });
    
    return response.json();
  }
}
```

### TELEGRAM UI –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

```javascript
// js/core/TelegramIntegration.js
class TelegramIntegration {
  constructor() {
    this.webapp = window.Telegram.WebApp;
    this.setupTelegramUI();
  }
  
  setupTelegramUI() {
    // ‚ö° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö Telegram —Ñ—É–Ω–∫—Ü–∏–π
    this.webapp.ready();
    this.webapp.expand();
    
    // üé® –¢–µ–º–∞ –∏–∑ Telegram
    this.syncTheme();
    
    // üì± Haptic feedback
    this.setupHaptics();
    
    // üîò Main Button —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    this.setupMainButton();
  }
  
  syncTheme() {
    const isDark = this.webapp.colorScheme === 'dark';
    document.body.classList.toggle('dark-theme', isDark);
  }
  
  hapticFeedback(type = 'light') {
    this.webapp.HapticFeedback.impactOccurred(type);
  }
}
```

---

## üì± –û–°–ù–û–í–ù–´–ï –°–¢–†–ê–ù–ò–¶–´ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### üè† –ì–õ–ê–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê

```javascript
// js/pages/HomePage.js
class HomePage {
  constructor() {
    this.template = `
      <div class="home-header">
        <div class="user-info">
          <div class="user-avatar">${this.getInitials()}</div>
          <div class="user-details">
            <h3>${this.getUserName()}</h3>
            <p>–ß–∏—Ç–∞—Ç–µ–ª—å</p>
          </div>
        </div>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card" data-stat="quotes">
          <div class="stat-number">0</div>
          <div class="stat-label">–¶–∏—Ç–∞—Ç —Å–æ–±—Ä–∞–Ω–æ</div>
        </div>
        <div class="stat-card" data-stat="streak">
          <div class="stat-number">0</div>
          <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
        </div>
      </div>
      
      <button class="main-cta" onclick="App.router.navigate('/diary')">
        ‚úçÔ∏è –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ü–∏—Ç–∞—Ç—É
      </button>
      
      <div class="top-books-section">
        <div class="section-title">üî• –¢–æ–ø 3 —Ä–∞–∑–±–æ—Ä–∞ –Ω–µ–¥–µ–ª–∏</div>
        <div id="top-books-list"></div>
      </div>
    `;
  }
  
  async render() {
    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API
    const [stats, topBooks] = await Promise.all([
      api.get('/analytics/stats'),
      api.get('/bookCatalog?limit=3&sort=popular')
    ]);
    
    this.updateStats(stats);
    this.renderTopBooks(topBooks);
  }
}
```

### üìñ –î–ù–ï–í–ù–ò–ö –¶–ò–¢–ê–¢

```javascript
// js/pages/DiaryPage.js
class DiaryPage {
  constructor() {
    this.activeTab = 'add'; // add, my-quotes, search
    this.quotes = [];
    this.filters = { category: 'all', author: 'all' };
  }
  
  async addQuote(text, author) {
    try {
      const quote = await api.post('/quotes', { text, author, source: 'mini_app' });
      
      // ‚ö° Haptic feedback –ø—Ä–∏ —É—Å–ø–µ—Ö–µ  
      telegram.hapticFeedback('success');
      
      // ü§ñ –ü–æ–ª—É—á–∞–µ–º AI –∞–Ω–∞–ª–∏–∑ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
      this.showAIAnalysis(quote.aiAnalysis);
      
      return quote;
    } catch (error) {
      telegram.hapticFeedback('error');
      throw error;
    }
  }
}
```

### üìä –û–¢–ß–ï–¢–´

```javascript
// js/pages/ReportsPage.js  
class ReportsPage {
  async loadWeeklyReport() {
    const report = await api.get('/reports/weekly');
    
    return {
      statistics: {
        quotesCount: report.statistics.quotesCount,
        authorsCount: report.statistics.uniqueAuthors,
        activeDays: report.statistics.activeDays,
        goalProgress: Math.round(report.statistics.quotesCount / 7 * 100)
      },
      aiAnalysis: report.aiAnalysis,
      recommendations: report.bookRecommendations,
      promoCode: report.promoCode
    };
  }
}
```

---

## üîÑ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –° TELEGRAM BOT

### –†–ê–ó–î–ï–õ–ï–ù–ò–ï –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–ò

#### ü§ñ TELEGRAM BOT (–æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å):
- ‚úÖ –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –∏ –ø–µ—Ä–≤–∏—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã (/stats, /help, /search)
- ‚úÖ –ü–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ê–Ω–Ω–µ
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–∏—Ç–∞—Ç —Ç–µ–∫—Å—Ç–æ–º

#### üì± TELEGRAM MINI APP (–Ω–æ–≤–æ–µ):
- üì± –ë–æ–≥–∞—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–∏—Ç–∞—Ç–∞–º–∏
- üìä –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- üìã –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- üèÜ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- üìö –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
- ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- üîç –ü–æ–∏—Å–∫ –ø–æ —Ü–∏—Ç–∞—Ç–∞–º —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π AI —á–∞—Ç —Å –ê–Ω–Ω–æ–π

### –ü–ï–†–ï–•–û–î –ë–û–¢ ‚Üí MINI APP

```javascript
// –í –±–æ—Ç–µ –¥–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞:
const keyboard = {
  inline_keyboard: [[
    { text: 'üì± –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ', web_app: { url: 'https://reader.annabusel.org' }}
  ]]
};

// –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ü–∏—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ –±–æ—Ç:
bot.sendMessage(chatId, 
  '‚ú® –¶–∏—Ç–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞! –•–æ—Ç–∏—Ç–µ —É–≤–∏–¥–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?', 
  { reply_markup: keyboard }
);
```

---

## üí° –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### ‚úÖ –ë–´–°–¢–†–ê–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ê
- 85% Backend –≥–æ—Ç–æ–≤ - API, –º–æ–¥–µ–ª–∏, AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - –Ω–∞ –±–∞–∑–µ Shrooms Support Bot
- –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –≥–æ—Ç–æ–≤–æ
- –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ - –±–∞–∑–∞ –∫–Ω–∏–≥, –ø—Ä–æ–º–ø—Ç—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### ‚úÖ –°–û–í–†–ï–ú–ï–ù–ù–´–ô STACK
- Vanilla JS - –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
- PWA ready - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω
- Telegram Native - haptic feedback, —Ç–µ–º—ã, –∫–Ω–æ–ø–∫–∏
- Responsive Design - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –≤—Å–µ —ç–∫—Ä–∞–Ω—ã

### ‚úÖ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –≠–ö–û–°–ò–°–¢–ï–ú–û–ô
- –û–±—â–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –±–æ—Ç–æ–º –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é
- –ï–¥–∏–Ω—ã–µ API endpoints - –Ω–∏–∫–∞–∫–∏—Ö –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–π
- Consistent UX - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### üöÄ –ß–ï–†–ï–ó 3 –ù–ï–î–ï–õ–ò –£ –ù–ê–° –ë–£–î–ï–¢:
- ‚úÖ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ Telegram Mini App —Å –±–æ–≥–∞—Ç—ã–º UI
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ (–±–æ—Ç + –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + –∞–¥–º–∏–Ω–∫–∞)
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–ø—ã—Ç —Å AI –∞–Ω–∞–ª–∏–∑–æ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
- ‚úÖ –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –≤–æ—Ä–æ–Ω–∫–∞ - –æ—Ç —Ü–∏—Ç–∞—Ç –∫ –ø–æ–∫—É–ø–∫–∞–º –∫–Ω–∏–≥
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–æ—Å—Ç–∞

### üíº –ë–ò–ó–ù–ï–° –†–ï–ó–£–õ–¨–¢–ê–¢:
- üìà –í—ã—à–µ retention - –±–æ–≥–∞—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üí∞ –õ—É—á—à–µ –∫–æ–Ω–≤–µ—Ä—Å–∏—è - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø—Ä–æ–¥–∞—é—Ç –±–æ–ª—å—à–µ
- üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ - —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç

---

*–°–æ–∑–¥–∞–Ω–æ: 28.07.2025*  
*–°—Ç–∞—Ç—É—Å: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è*  
*–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: –°–æ–∑–¥–∞–Ω–∏–µ implementation plan*