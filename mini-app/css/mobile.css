/**
 * üì± MOBILE CSS –î–õ–Ø TELEGRAM MINI APP
 * –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è, iOS —Ñ–∏–∫—Å—ã –∏ touch-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
 */

/* ============================================================================
   üì± –ë–ê–ó–û–í–´–ï –ú–û–ë–ò–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
   ============================================================================ */

/* Viewport –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
@viewport {
    width: device-width;
    zoom: 1.0;
}

/* –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
@media screen and (max-width: 480px) {
    html {
        /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —à—Ä–∏—Ñ—Ç–æ–≤ –Ω–∞ iOS */
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }
    
    body {
        /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ */
        overflow-x: hidden;
        /* –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ */
        -webkit-overflow-scrolling: touch;
        /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–æ–ª–≥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ */
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
    }
}

/* ============================================================================
   üçé iOS SAFARI –§–ò–ö–°–´
   ============================================================================ */

/* –§–∏–∫—Å—ã –¥–ª—è iOS Safari */
@supports (-webkit-touch-callout: none) {
    /* –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ viewport height */
    .full-height-ios {
        height: 100vh;
        height: -webkit-fill-available;
    }
    
    /* –§–∏–∫—Å –¥–ª—è 100vh –Ω–∞ iOS */
    .viewport-height-fix {
        min-height: 100vh;
        min-height: -webkit-fill-available;
    }
    
    /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ zoom –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏ */
    * {
        touch-action: manipulation;
    }
    
    /* –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ */
    .scroll-container {
        -webkit-overflow-scrolling: touch;
        transform: translateZ(0);
    }
    
    /* –§–∏–∫—Å –¥–ª—è position: fixed –Ω–∞ iOS */
    .fixed-element {
        transform: translateZ(0);
        -webkit-transform: translateZ(0);
    }
    
    /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –∏ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ */
    input, textarea {
        -webkit-appearance: none;
        -webkit-autocorrect: off;
        -webkit-autocapitalize: off;
        autocorrect: off;
        autocapitalize: off;
        spellcheck: false;
    }
    
    /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ highlight –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ */
    * {
        -webkit-tap-highlight-color: transparent;
        -webkit-focus-ring-color: transparent;
        outline: none;
    }
    
    /* –í–∫–ª—é—á–µ–Ω–∏–µ highlight –¥–ª—è —Å—Å—ã–ª–æ–∫ –∏ –∫–Ω–æ–ø–æ–∫ */
    a, button, [role="button"] {
        -webkit-tap-highlight-color: rgba(210, 69, 44, 0.1);
    }
}

/* ============================================================================
   ü§ñ ANDROID CHROME –§–ò–ö–°–´
   ============================================================================ */

/* –§–∏–∫—Å—ã –¥–ª—è Android Chrome */
@media screen and (-webkit-min-device-pixel-ratio: 1) {
    /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ –ø—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ */
    html {
        -webkit-text-size-adjust: 100%;
    }
    
    /* –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–π */
    .animated-element {
        will-change: transform;
        transform: translateZ(0);
    }
    
    /* –§–∏–∫—Å –¥–ª—è input –ø–æ–ª–µ–π */
    input {
        background-clip: padding-box;
    }
}

/* ============================================================================
   üëÜ TOUCH-FRIENDLY –ò–ù–¢–ï–†–§–ï–ô–°
   ============================================================================ */

/* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è touch targets */
.touch-target {
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
    position: relative;
}

/* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∑–æ–Ω—ã –Ω–∞–∂–∞—Ç–∏—è –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
.touch-target::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
    z-index: -1;
}

/* Touch-friendly –∫–Ω–æ–ø–∫–∏ */
.btn-touch {
    min-height: var(--touch-target-min);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
}

/* Touch-friendly input –ø–æ–ª—è */
.input-touch {
    min-height: var(--input-height);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    font-size: var(--font-size-base);
    line-height: 1.5;
}

/* ============================================================================
   üìè –ê–î–ê–ü–¢–ò–í–ù–´–ï –†–ê–ó–ú–ï–†–´ –ò –û–¢–°–¢–£–ü–´
   ============================================================================ */

/* –ú–æ–±–∏–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã */
@media (max-width: 480px) {
    .container {
        padding-left: var(--spacing-md);
        padding-right: var(--spacing-md);
    }
    
    .container-mobile {
        padding-left: var(--spacing-sm);
        padding-right: var(--spacing-sm);
    }
    
    /* –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .mobile-spacing-sm {
        padding: var(--spacing-sm);
    }
    
    .mobile-spacing-md {
        padding: var(--spacing-md);
    }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
    h1 { font-size: var(--font-size-2xl); }
    h2 { font-size: var(--font-size-xl); }
    h3 { font-size: var(--font-size-lg); }
    
    .text-responsive {
        font-size: var(--font-size-sm);
        line-height: var(--line-height-normal);
    }
}

/* –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã */
@media (max-width: 360px) {
    .container {
        padding-left: var(--spacing-sm);
        padding-right: var(--spacing-sm);
    }
    
    h1 { font-size: var(--font-size-xl); }
    h2 { font-size: var(--font-size-lg); }
    
    .btn-touch {
        min-height: 40px;
        padding: var(--spacing-xs) var(--spacing-sm);
        font-size: var(--font-size-sm);
    }
}

/* ============================================================================
   üîÑ –ú–û–ë–ò–õ–¨–ù–´–ï –ê–ù–ò–ú–ê–¶–ò–ò –ò –ü–ï–†–ï–•–û–î–´
   ============================================================================ */

/* –£–º–µ–Ω—å—à–µ–Ω–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 480px) {
    .transition,
    .transition-colors,
    .transition-transform {
        transition-duration: var(--duration-fast);
    }
    
    /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π –ø—Ä–∏ –Ω–∏–∑–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
}

/* –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
.mobile-slide-in {
    animation: mobileSlideIn var(--duration-normal) var(--ease-out);
}

@keyframes mobileSlideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.mobile-fade-in {
    animation: mobileFadeIn var(--duration-fast) var(--ease-out);
}

@keyframes mobileFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ============================================================================
   ‚úã SWIPE GESTURES –ò TOUCH HANDLING
   ============================================================================ */

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è swipe-–¥–µ–π—Å—Ç–≤–∏–π */
.swipe-container {
    position: relative;
    overflow: hidden;
    touch-action: pan-y; /* –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ */
}

/* –≠–ª–µ–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π swipe */
.swipeable {
    position: relative;
    transition: transform var(--duration-normal) var(--ease-out);
    touch-action: pan-y;
}

.swipeable.swiping {
    transition: none;
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã swipe-–¥–µ–π—Å—Ç–≤–∏–π */
.swipe-action-left,
.swipe-action-right {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--duration-fast) var(--ease-out);
}

.swipe-action-left {
    left: 0;
    background: linear-gradient(90deg, var(--success-color), transparent);
}

.swipe-action-right {
    right: 0;
    background: linear-gradient(-90deg, var(--error-color), transparent);
}

.swipe-action-left.active,
.swipe-action-right.active {
    opacity: 1;
}

/* ============================================================================
   üì∫ –û–†–ò–ï–ù–¢–ê–¶–ò–Ø –≠–ö–†–ê–ù–ê
   ============================================================================ */

/* –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è */
@media screen and (orientation: portrait) {
    .portrait-only {
        display: block;
    }
    
    .landscape-only {
        display: none;
    }
    
    /* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
    .page {
        padding: var(--spacing-md) var(--spacing-md) var(--spacing-xl);
    }
}

/* –ê–ª—å–±–æ–º–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è */
@media screen and (orientation: landscape) and (max-width: 768px) {
    .portrait-only {
        display: none;
    }
    
    .landscape-only {
        display: block;
    }
    
    /* –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –≤ –∞–ª—å–±–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ */
    .page {
        padding: var(--spacing-sm) var(--spacing-md);
    }
    
    /* üîß –ò–°–ü–†–ê–í–õ–ï–ù–û: –£–±—Ä–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞ .header { height: 48px; } –∫–æ—Ç–æ—Ä–∞—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª–∞ —Å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π --header-height */
}

/* ============================================================================
   üîã –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –ù–ê –ú–û–ë–ò–õ–¨–ù–´–•
   ============================================================================ */

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 480px) {
    /* –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç–µ–Ω–µ–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .shadow-lg,
    .shadow-xl {
        box-shadow: var(--shadow-md);
    }
    
    /* –£–ø—Ä–æ—â–µ–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ */
    .gradient-complex {
        background: var(--primary-color);
    }
    
    /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–æ—Ä–æ–≥–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
    .expensive-effect {
        filter: none;
        backdrop-filter: none;
    }
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π */
@media (prefers-reduced-data: reduce) {
    /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
    .bg-image {
        background-image: none;
        background-color: var(--bg-secondary);
    }
    
    /* –£–ø—Ä–æ—â–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π */
    .complex-animation {
        animation: none;
    }
}

/* ============================================================================
   üåê –Ø–ó–´–ö–û–í–´–ï –ò –†–ï–ì–ò–û–ù–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
   ============================================================================ */

/* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RTL —è–∑—ã–∫–æ–≤ */
[dir="rtl"] {
    .ml-auto { margin-left: 0; margin-right: auto; }
    .mr-auto { margin-right: 0; margin-left: auto; }
    .pl-3 { padding-left: 0; padding-right: var(--spacing-md); }
    .pr-3 { padding-right: 0; padding-left: var(--spacing-md); }
}

/* ============================================================================
   üéØ –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –ú–û–ë–ò–õ–¨–ù–´–ï –£–¢–ò–õ–ò–¢–´
   ============================================================================ */

/* –°–∫—Ä—ã—Ç–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 480px) {
    .mobile\:hidden { display: none !important; }
    .mobile\:visible { display: block !important; }
    .mobile\:flex { display: flex !important; }
}

/* –ü–æ–∫–∞–∑ —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
.mobile-only {
    display: none;
}

@media (max-width: 480px) {
    .mobile-only {
        display: block;
    }
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
@media (max-width: 480px) {
    .mobile\:p-2 { padding: var(--spacing-sm) !important; }
    .mobile\:px-2 { padding-left: var(--spacing-sm) !important; padding-right: var(--spacing-sm) !important; }
    .mobile\:py-2 { padding-top: var(--spacing-sm) !important; padding-bottom: var(--spacing-sm) !important; }
    .mobile\:m-2 { margin: var(--spacing-sm) !important; }
    .mobile\:mx-2 { margin-left: var(--spacing-sm) !important; margin-right: var(--spacing-sm) !important; }
    .mobile\:my-2 { margin-top: var(--spacing-sm) !important; margin-bottom: var(--spacing-sm) !important; }
}

/* ============================================================================
   üìã ACCESSIBILITY –ù–ê –ú–û–ë–ò–õ–¨–ù–´–•
   ============================================================================ */

/* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ */
@media (prefers-contrast: high) {
    .btn-touch {
        border: 2px solid currentColor;
    }
    
    .input-touch {
        border: 2px solid var(--text-primary);
    }
}

/* –£–º–µ–Ω—å—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
@media (prefers-contrast: high) {
    .text-muted {
        color: var(--text-secondary);
    }
    
    .opacity-50 {
        opacity: 0.7;
    }
}

/* –ö—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç */
@media (prefers-font-size: large) {
    body {
        font-size: calc(var(--font-size-base) * 1.2);
    }
    
    .btn-touch {
        min-height: calc(var(--touch-target-min) * 1.2);
        font-size: calc(var(--font-size-base) * 1.2);
    }
}

/* ============================================================================
   üöÄ TELEGRAM MINI APP –°–ü–ï–¶–ò–§–ò–ö–ê
   ============================================================================ */

/* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram —Ç–µ–º–∞–º–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 480px) {
    body[data-theme="telegram"] {
        background-color: var(--tg-theme-bg-color, var(--bg-primary));
        color: var(--tg-theme-text-color, var(--text-primary));
    }
    
    /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –≤—ã—Å–æ—Ç—ã –ø–æ–¥ Telegram viewport */
    .tg-full-height {
        height: var(--tg-viewport-height, 100vh);
        min-height: var(--tg-viewport-height, 100vh);
    }
    
    /* –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã –≤ Telegram */
    .tg-safe-area {
        padding-top: max(var(--safe-area-top), var(--spacing-sm));
        padding-bottom: max(var(--safe-area-bottom), var(--spacing-sm));
    }
}